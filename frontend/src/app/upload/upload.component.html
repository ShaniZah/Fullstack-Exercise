<mat-card class="upload-card">
  <h2>Upload CSV File</h2>

  <input
    type="file"
    accept=".CSV"
    #fileInput
    hidden
    (change)="onFileSelected($event)"
  />

  <button mat-raised-button color="primary" (click)="fileInput.click()">
    Choose File
  </button>
  <p class="hint">* Only CSV files are supported.</p>

  <p *ngIf="selectedFile">
    Selected: <strong>{{ selectedFile.name }}</strong>
  </p>

  <button
    mat-raised-button
    color="accent"
    (click)="uploadFile()"
    [disabled]="!selectedFile"
  >
    Upload
  </button>

  @if (uploadInProgress) {
    <mat-progress-bar mode="indeterminate" color="accent"> </mat-progress-bar>
  }

  @if (uploadResult) {
    <p class="statusMessage">Upload complete!</p>
  }
  @if (error) {
    <p class="statusMessage" class="error">{{ error }}</p>
  }
</mat-card>
